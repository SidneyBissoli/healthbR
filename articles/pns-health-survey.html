<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>National Health Survey (PNS) with healthbR • healthbR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="National Health Survey (PNS) with healthbR">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">healthbR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.14.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/healthbR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/healthbR.html">Getting started</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>DATASUS modules</h6></li>
    <li><a class="dropdown-item" href="../articles/datasus-modules.html">DATASUS modules overview</a></li>
    <li><a class="dropdown-item" href="../articles/sinan-notifiable-diseases.html">SINAN -- Notifiable diseases</a></li>
    <li><a class="dropdown-item" href="../articles/cnes-health-facilities.html">CNES -- Health facilities</a></li>
    <li><a class="dropdown-item" href="../articles/sipni-vaccination.html">SI-PNI -- Vaccination</a></li>
    <li><a class="dropdown-item" href="../articles/sisab-primary-care.html">SISAB -- Primary care</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Surveys</h6></li>
    <li><a class="dropdown-item" href="../articles/vigitel-telephone-survey.html">VIGITEL -- Telephone survey</a></li>
    <li><a class="dropdown-item" href="../articles/pns-health-survey.html">PNS -- National health survey</a></li>
    <li><a class="dropdown-item" href="../articles/pnadc-household-survey.html">PNAD Continua -- Household survey</a></li>
    <li><a class="dropdown-item" href="../articles/pof-health-data.html">POF -- Household budgets</a></li>
    <li><a class="dropdown-item" href="../articles/censo-denominadores.html">Censo -- Population denominators</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Regulatory agencies</h6></li>
    <li><a class="dropdown-item" href="../articles/ans-supplementary-health.html">ANS -- Supplementary health</a></li>
    <li><a class="dropdown-item" href="../articles/anvisa-health-surveillance.html">ANVISA -- Health surveillance</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SidneyBissoli/healthbR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>National Health Survey (PNS) with healthbR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/SidneyBissoli/healthbR/blob/master/vignettes/pns-health-survey.Rmd" class="external-link"><code>vignettes/pns-health-survey.Rmd</code></a></small>
      <div class="d-none name"><code>pns-health-survey.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <strong>PNS (Pesquisa Nacional de Saude)</strong> is Brazil’s
most comprehensive household health survey, conducted by IBGE in
partnership with the Ministry of Health. It provides nationally
representative data on health conditions, lifestyle, access to health
services, and preventive care.</p>
<p>Two editions are available: <strong>2013</strong> and
<strong>2019</strong>, each with approximately 100,000+ respondents.</p>
<p>The <code>healthbR</code> package provides two complementary access
paths:</p>
<table class="table">
<colgroup>
<col width="36%">
<col width="27%">
<col width="36%">
</colgroup>
<thead><tr class="header">
<th>Access path</th>
<th>Function</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>Microdata</strong></td>
<td><code><a href="../reference/pns_data.html">pns_data()</a></code></td>
<td>Individual-level records via IBGE FTP</td>
</tr>
<tr class="even">
<td><strong>SIDRA tables</strong></td>
<td><code><a href="../reference/pns_sidra_data.html">pns_sidra_data()</a></code></td>
<td>Pre-tabulated indicators via IBGE API</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SidneyBissoli/healthbR" class="external-link">healthbR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="check-available-years">Check available years<a class="anchor" aria-label="anchor" href="#check-available-years"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/pns_years.html">pns_years</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2013" "2019"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="survey-information">Survey information<a class="anchor" aria-label="anchor" href="#survey-information"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/pns_info.html">pns_info</a></span><span class="op">(</span><span class="fl">2019</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="thematic-modules">Thematic modules<a class="anchor" aria-label="anchor" href="#thematic-modules"></a>
</h3>
<p>PNS organizes questions into thematic modules (A through Z). Use
<code><a href="../reference/pns_modules.html">pns_modules()</a></code> to see what’s available:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/pns_modules.html">pns_modules</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2019</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 20 x 3</span></span>
<span><span class="co">#&gt;    code  name_pt                          name_en</span></span>
<span><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;                            &lt;chr&gt;</span></span>
<span><span class="co">#&gt;  1 A     Informacoes do domicilio         Household information</span></span>
<span><span class="co">#&gt;  2 C     Caracteristicas dos moradores    Resident characteristics</span></span>
<span><span class="co">#&gt;  3 ...</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="microdata-access">Microdata access<a class="anchor" aria-label="anchor" href="#microdata-access"></a>
</h2>
<div class="section level3">
<h3 id="download-microdata">Download microdata<a class="anchor" aria-label="anchor" href="#download-microdata"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># All modules for 2019</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pns_data.html">pns_data</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2019</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Select specific variables</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pns_data.html">pns_data</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2019</span>, vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C006"</span>, <span class="st">"C008"</span>, <span class="st">"C009"</span>, <span class="st">"Q002"</span>, <span class="st">"Q00201"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="explore-variables">Explore variables<a class="anchor" aria-label="anchor" href="#explore-variables"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List all variables</span></span>
<span><span class="fu"><a href="../reference/pns_variables.html">pns_variables</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2019</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter by module</span></span>
<span><span class="fu"><a href="../reference/pns_variables.html">pns_variables</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2019</span>, module <span class="op">=</span> <span class="st">"Q"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Data dictionary</span></span>
<span><span class="fu"><a href="../reference/pns_dictionary.html">pns_dictionary</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2019</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="sidra-tabulated-data">SIDRA tabulated data<a class="anchor" aria-label="anchor" href="#sidra-tabulated-data"></a>
</h2>
<p>For pre-calculated indicators with confidence intervals, use the
SIDRA API path. This is ideal for quick analyses without downloading
full microdata.</p>
<div class="section level3">
<h3 id="discover-available-tables">Discover available tables<a class="anchor" aria-label="anchor" href="#discover-available-tables"></a>
</h3>
<p>PNS has 69 SIDRA tables organized by 14 health themes:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Browse all tables</span></span>
<span><span class="fu"><a href="../reference/pns_sidra_tables.html">pns_sidra_tables</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter by theme</span></span>
<span><span class="fu"><a href="../reference/pns_sidra_tables.html">pns_sidra_tables</a></span><span class="op">(</span>theme <span class="op">=</span> <span class="st">"Chronic diseases"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Search by keyword</span></span>
<span><span class="fu"><a href="../reference/pns_sidra_search.html">pns_sidra_search</a></span><span class="op">(</span><span class="st">"diabetes"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/pns_sidra_search.html">pns_sidra_search</a></span><span class="op">(</span><span class="st">"tabagismo"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="query-a-sidra-table">Query a SIDRA table<a class="anchor" aria-label="anchor" href="#query-a-sidra-table"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Table 7666: Self-reported diabetes prevalence</span></span>
<span><span class="va">diabetes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pns_sidra_data.html">pns_sidra_data</a></span><span class="op">(</span></span>
<span>  table <span class="op">=</span> <span class="fl">7666</span>,</span>
<span>  territorial_level <span class="op">=</span> <span class="st">"state"</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">2019</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="geographic-levels">Geographic levels<a class="anchor" aria-label="anchor" href="#geographic-levels"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># National level</span></span>
<span><span class="fu"><a href="../reference/pns_sidra_data.html">pns_sidra_data</a></span><span class="op">(</span>table <span class="op">=</span> <span class="fl">7666</span>, territorial_level <span class="op">=</span> <span class="st">"brazil"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># By state</span></span>
<span><span class="fu"><a href="../reference/pns_sidra_data.html">pns_sidra_data</a></span><span class="op">(</span>table <span class="op">=</span> <span class="fl">7666</span>, territorial_level <span class="op">=</span> <span class="st">"state"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># By capital city</span></span>
<span><span class="fu"><a href="../reference/pns_sidra_data.html">pns_sidra_data</a></span><span class="op">(</span>table <span class="op">=</span> <span class="fl">7666</span>, territorial_level <span class="op">=</span> <span class="st">"capital"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specific state (e.g., Sao Paulo = 35)</span></span>
<span><span class="fu"><a href="../reference/pns_sidra_data.html">pns_sidra_data</a></span><span class="op">(</span>table <span class="op">=</span> <span class="fl">7666</span>, territorial_level <span class="op">=</span> <span class="st">"state"</span>, geo_code <span class="op">=</span> <span class="st">"35"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="example-chronic-disease-prevalence-by-state">Example: Chronic disease prevalence by state<a class="anchor" aria-label="anchor" href="#example-chronic-disease-prevalence-by-state"></a>
</h2>
<p>Using SIDRA for quick tabulated results:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Self-reported hypertension by state</span></span>
<span><span class="va">hypertension</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pns_sidra_data.html">pns_sidra_data</a></span><span class="op">(</span></span>
<span>  table <span class="op">=</span> <span class="fl">7659</span>,</span>
<span>  territorial_level <span class="op">=</span> <span class="st">"state"</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">2019</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-health-service-access-from-microdata">Example: Health service access from microdata<a class="anchor" aria-label="anchor" href="#example-health-service-access-from-microdata"></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pns_data.html">pns_data</a></span><span class="op">(</span></span>
<span>  year <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>  vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C006"</span>, <span class="st">"C008"</span>, <span class="st">"C009"</span>, <span class="st">"J001"</span>, <span class="st">"J007"</span>, <span class="st">"J009"</span>, <span class="st">"V0024"</span>, <span class="st">"UPA_PNS"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># J001: Had a medical visit in the last 12 months?</span></span>
<span><span class="co"># C006: Sex, C008: Age, C009: Race</span></span>
<span><span class="va">access</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">J001</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"2"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">C006</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    visited <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">J001</span> <span class="op">==</span> <span class="st">"1"</span><span class="op">)</span>,</span>
<span>    total <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    pct <span class="op">=</span> <span class="va">visited</span> <span class="op">/</span> <span class="va">total</span> <span class="op">*</span> <span class="fl">100</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="cache-and-performance">Cache and performance<a class="anchor" aria-label="anchor" href="#cache-and-performance"></a>
</h2>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check cache</span></span>
<span><span class="fu"><a href="../reference/pns_cache_status.html">pns_cache_status</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clear cache</span></span>
<span><span class="fu"><a href="../reference/pns_clear_cache.html">pns_clear_cache</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Lazy evaluation for large datasets</span></span>
<span><span class="va">lazy_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pns_data.html">pns_data</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2019</span>, lazy <span class="op">=</span> <span class="cn">TRUE</span>, backend <span class="op">=</span> <span class="st">"arrow"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="further-reading">Further reading<a class="anchor" aria-label="anchor" href="#further-reading"></a>
</h2>
<ul>
<li><a href="https://www.ibge.gov.br/estatisticas/sociais/saude/9160-pesquisa-nacional-de-saude.html" class="external-link">PNS
on IBGE</a></li>
<li><a href="https://sidra.ibge.gov.br/pesquisa/pns" class="external-link">PNS SIDRA
tables</a></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sidney Bissoli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
