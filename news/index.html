<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • healthbR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">healthbR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.14.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/healthbR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/healthbR.html">Getting started</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>DATASUS modules</h6></li>
    <li><a class="dropdown-item" href="../articles/datasus-modules.html">DATASUS modules overview</a></li>
    <li><a class="dropdown-item" href="../articles/sinan-notifiable-diseases.html">SINAN -- Notifiable diseases</a></li>
    <li><a class="dropdown-item" href="../articles/cnes-health-facilities.html">CNES -- Health facilities</a></li>
    <li><a class="dropdown-item" href="../articles/sipni-vaccination.html">SI-PNI -- Vaccination</a></li>
    <li><a class="dropdown-item" href="../articles/sisab-primary-care.html">SISAB -- Primary care</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>IBGE surveys</h6></li>
    <li><a class="dropdown-item" href="../articles/censo-denominadores.html">Censo -- Population denominators</a></li>
    <li><a class="dropdown-item" href="../articles/pof-health-data.html">POF -- Household budgets</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Regulatory agencies</h6></li>
    <li><a class="dropdown-item" href="../articles/ans-supplementary-health.html">ANS -- Supplementary health</a></li>
    <li><a class="dropdown-item" href="../articles/anvisa-health-surveillance.html">ANVISA -- Health surveillance</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SidneyBissoli/healthbR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/SidneyBissoli/healthbR/blob/master/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.11.0" id="healthbr-0110">healthbR 0.11.0<a class="anchor" aria-label="anchor" href="#healthbr-0110"></a></h2>
<div class="section level3">
<h3 id="extended-modules-0-11-0">Extended modules<a class="anchor" aria-label="anchor" href="#extended-modules-0-11-0"></a></h3>
<ul><li>
<strong>SI-PNI post-2019 support via OpenDataSUS CSV</strong>: The SI-PNI module now supports vaccination data from 2020 to 2025 via OpenDataSUS monthly CSV bulk downloads, in addition to the existing DATASUS FTP data (1994-2019).
<ul><li>
<code><a href="../reference/sipni_data.html">sipni_data()</a></code> transparently routes by year: FTP for 1994-2019 (aggregated DPNI/CPNI), CSV for 2020+ (individual-level microdata)</li>
<li>New <code>month</code> parameter for CSV years (selects monthly files to download)</li>
<li>
<code>sipni_variables(type = "API")</code> shows 47 microdata variables</li>
<li>
<code><a href="../reference/sipni_years.html">sipni_years()</a></code> now returns <code>1994:2025</code> (was <code>1994:2019</code>)</li>
<li>Memory-efficient chunked CSV reading with UF filtering (national files are ~6 GB uncompressed; only matching UF rows are kept in memory)</li>
<li>Per-month caching for CSV data (<code>sipni_API_{UF}_{YYYYMM}</code>)</li>
<li>Microdata includes patient demographics, vaccine details, establishment info, and administration strategy (one row per vaccination dose)</li>
<li>
<code><a href="../reference/sipni_info.html">sipni_info()</a></code> updated to show both data sources</li>
<li>New dependency: <code>readr</code> (for chunked CSV reading with encoding support)</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.10.0" id="healthbr-0100">healthbR 0.10.0<a class="anchor" aria-label="anchor" href="#healthbr-0100"></a></h2>
<div class="section level3">
<h3 id="new-modules-0-10-0">New modules<a class="anchor" aria-label="anchor" href="#new-modules-0-10-0"></a></h3>
<ul><li>
<strong>SISAB (Sistema de Informacao em Saude para a Atencao Basica)</strong>: Added module for accessing primary care coverage indicators from the relatorioaps REST API.
<ul><li>
<code><a href="../reference/sisab_years.html">sisab_years()</a></code>, <code><a href="../reference/sisab_info.html">sisab_info()</a></code> for module metadata</li>
<li>
<code><a href="../reference/sisab_variables.html">sisab_variables()</a></code> for variable exploration</li>
<li>
<code><a href="../reference/sisab_data.html">sisab_data()</a></code> for downloading coverage data</li>
<li>
<code><a href="../reference/sisab_cache_status.html">sisab_cache_status()</a></code>, <code><a href="../reference/sisab_clear_cache.html">sisab_clear_cache()</a></code> for cache management</li>
<li>
<strong>4 report types</strong>: aps (APS coverage, default), sb (Oral health), acs (Community health agents), pns (PNS coverage). Use <code>type</code> parameter to select.</li>
<li>
<strong>4 geographic levels</strong>: brazil, region, uf, municipality. Use <code>level</code> parameter to select.</li>
<li>
<strong>REST API access</strong>: Unlike other DATASUS modules, SISAB uses a public REST API (no FTP, no .dbc/.dbf files). No authentication required.</li>
<li>
<strong>Aggregated data</strong>: Coverage indicators per geographic unit and period (competencia CNES), not individual-level microdata.</li>
<li>Output includes <code>year</code> and <code>type</code> columns to identify the source</li>
<li>Column names preserved from API (camelCase)</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.0" id="healthbr-090">healthbR 0.9.0<a class="anchor" aria-label="anchor" href="#healthbr-090"></a></h2>
<div class="section level3">
<h3 id="new-modules-0-9-0">New modules<a class="anchor" aria-label="anchor" href="#new-modules-0-9-0"></a></h3>
<ul><li>
<strong>SI-PNI (Sistema de Informacao do Programa Nacional de Imunizacoes)</strong>: Added module for accessing aggregated vaccination data from DATASUS FTP as plain .DBF files (1994-2019).
<ul><li>
<code><a href="../reference/sipni_years.html">sipni_years()</a></code>, <code><a href="../reference/sipni_info.html">sipni_info()</a></code> for module metadata</li>
<li>
<code><a href="../reference/sipni_variables.html">sipni_variables()</a></code>, <code><a href="../reference/sipni_dictionary.html">sipni_dictionary()</a></code> for variable exploration</li>
<li>
<code><a href="../reference/sipni_data.html">sipni_data()</a></code> for downloading vaccination data per state (UF)</li>
<li>
<code><a href="../reference/sipni_cache_status.html">sipni_cache_status()</a></code>, <code><a href="../reference/sipni_clear_cache.html">sipni_clear_cache()</a></code> for cache management</li>
<li>
<strong>2 file types</strong>: DPNI (doses applied, default) and CPNI (vaccination coverage). Use <code>type</code> parameter to select.</li>
<li>
<strong>Aggregated data</strong>: Unlike other DATASUS modules, SI-PNI contains dose counts and coverage rates per municipality/vaccine/age group, not individual-level microdata.</li>
<li>
<strong>Plain .DBF files</strong>: No DBC decompression needed (files are uncompressed).</li>
<li>Output includes <code>year</code> and <code>uf_source</code> columns</li>
<li>CPNI coverage field (<code>COBERT</code>) decimal separator automatically converted from comma to dot</li>
<li>Data on DATASUS FTP frozen at 2019; post-2019 requires SI-PNI web API (future work)</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.0" id="healthbr-080">healthbR 0.8.0<a class="anchor" aria-label="anchor" href="#healthbr-080"></a></h2>
<div class="section level3">
<h3 id="new-modules-0-8-0">New modules<a class="anchor" aria-label="anchor" href="#new-modules-0-8-0"></a></h3>
<ul><li>
<strong>SINAN (Sistema de Informacao de Agravos de Notificacao)</strong>: Added module for accessing notifiable diseases surveillance microdata from DATASUS FTP as .dbc files (2007-2024).
<ul><li>
<code><a href="../reference/sinan_years.html">sinan_years()</a></code>, <code><a href="../reference/sinan_info.html">sinan_info()</a></code> for module metadata</li>
<li>
<code><a href="../reference/sinan_diseases.html">sinan_diseases()</a></code> for listing available diseases (agravos)</li>
<li>
<code><a href="../reference/sinan_variables.html">sinan_variables()</a></code>, <code><a href="../reference/sinan_dictionary.html">sinan_dictionary()</a></code> for variable exploration</li>
<li>
<code><a href="../reference/sinan_data.html">sinan_data()</a></code> for downloading disease notification microdata</li>
<li>
<code><a href="../reference/sinan_cache_status.html">sinan_cache_status()</a></code>, <code><a href="../reference/sinan_clear_cache.html">sinan_clear_cache()</a></code> for cache management</li>
<li>
<strong>31 diseases</strong>: DENG (Dengue, default), CHIK, ZIKA, TUBE, HANS, HEPA, MALA, SIFA, SIFC, SIFG, LEIV, LEIT, LEPT, MENI, and more. Use <code>disease</code> parameter to select.</li>
<li>
<strong>National files</strong>: SINAN files are national (not per-state). Filter by UF using <code>SG_UF_NOT</code> or <code>ID_MUNICIP</code> columns after download.</li>
<li>Output includes <code>year</code> and <code>disease</code> columns</li>
<li>Reuses shared DBC infrastructure (<code>.dbc2dbf()</code>, <code>.read_dbc()</code>, <code>.datasus_download()</code>)</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.0" id="healthbr-070">healthbR 0.7.0<a class="anchor" aria-label="anchor" href="#healthbr-070"></a></h2>
<div class="section level3">
<h3 id="new-modules-0-7-0">New modules<a class="anchor" aria-label="anchor" href="#new-modules-0-7-0"></a></h3>
<ul><li>
<strong>CNES (Cadastro Nacional de Estabelecimentos de Saude)</strong>: Added module for accessing the national health facility registry from DATASUS FTP as .dbc files (2005-2024).
<ul><li>
<code><a href="../reference/cnes_years.html">cnes_years()</a></code>, <code><a href="../reference/cnes_info.html">cnes_info()</a></code> for module metadata</li>
<li>
<code><a href="../reference/cnes_variables.html">cnes_variables()</a></code>, <code><a href="../reference/cnes_dictionary.html">cnes_dictionary()</a></code> for variable exploration</li>
<li>
<code><a href="../reference/cnes_data.html">cnes_data()</a></code> for downloading health facility data per state (UF)</li>
<li>
<code><a href="../reference/cnes_cache_status.html">cnes_cache_status()</a></code>, <code><a href="../reference/cnes_clear_cache.html">cnes_clear_cache()</a></code> for cache management</li>
<li>
<strong>13 file types</strong>: ST (default), LT, PF, DC, EQ, SR, HB, EP, RC, IN, EE, EF, GM. Use <code>type</code> parameter to select.</li>
<li>
<strong>Monthly data</strong>: CNES data is organized per month (one .dbc file per type/UF/month). Use <code>month</code> parameter to select specific months.</li>
<li>Output includes <code>year</code>, <code>month</code>, and <code>uf_source</code> columns</li>
<li>Reuses shared DBC infrastructure (<code>.dbc2dbf()</code>, <code>.read_dbc()</code>, <code>.datasus_download()</code>)</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.1" id="healthbr-061">healthbR 0.6.1<a class="anchor" aria-label="anchor" href="#healthbr-061"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-0-6-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-6-1"></a></h3>
<ul><li><p>Fixed POF dictionary parsing failure on Linux/Ubuntu. <code><a href="https://rdrr.io/r/utils/unzip.html" class="external-link">utils::unzip()</a></code> creates filenames with invalid UTF-8 bytes on non-Windows systems, which caused <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl()</a></code> and <code><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar()</a></code> to silently fail. Dictionary file lookup now uses byte-level matching (<code>useBytes = TRUE</code>, <code>nchar(type = "bytes")</code>) and renames extracted files to ASCII-safe names to prevent downstream encoding errors.</p></li>
<li><p>Moved POF register validation before download in <code><a href="../reference/pof_dictionary.html">pof_dictionary()</a></code>, so invalid register names are caught immediately without triggering a download.</p></li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-6-1">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-6-1"></a></h3>
<ul><li><p>Replaced <code>\donttest{}</code> with <code>@examplesIf interactive()</code> across all 9 modules (VIGITEL, PNS, PNADC, POF, Censo, SIM, SINASC, SIH, SIA). Examples that download data now only run in interactive sessions, following current CRAN guidelines.</p></li>
<li><p>Marked internal <code>utils</code> topic with <code>@keywords internal</code> to fix pkgdown reference index build.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="healthbr-060">healthbR 0.6.0<a class="anchor" aria-label="anchor" href="#healthbr-060"></a></h2>
<div class="section level3">
<h3 id="new-modules-0-6-0">New modules<a class="anchor" aria-label="anchor" href="#new-modules-0-6-0"></a></h3>
<ul><li>
<strong>SIA (Sistema de Informacoes Ambulatoriais)</strong>: Added module for accessing outpatient production microdata from DATASUS FTP as .dbc files (2008-2024).
<ul><li>
<code><a href="../reference/sia_years.html">sia_years()</a></code>, <code><a href="../reference/sia_info.html">sia_info()</a></code> for module metadata</li>
<li>
<code><a href="../reference/sia_variables.html">sia_variables()</a></code>, <code><a href="../reference/sia_dictionary.html">sia_dictionary()</a></code> for variable exploration</li>
<li>
<code><a href="../reference/sia_data.html">sia_data()</a></code> for downloading outpatient production microdata per state (UF)</li>
<li>
<code><a href="../reference/sia_cache_status.html">sia_cache_status()</a></code>, <code><a href="../reference/sia_clear_cache.html">sia_clear_cache()</a></code> for cache management</li>
<li>
<strong>13 file types</strong>: PA (default), BI, AD, AM, AN, AQ, AR, AB, ACF, ATD, AMP, SAD, PS. Use <code>type</code> parameter to select.</li>
<li>
<strong>Monthly data</strong>: SIA data is organized per month (one .dbc file per type/UF/month). Use <code>month</code> parameter to select specific months.</li>
<li>Procedure filtering by SIGTAP code (<code>procedure</code> parameter)</li>
<li>Diagnosis filtering by CID-10 code (<code>diagnosis</code> parameter)</li>
<li>Output includes <code>year</code>, <code>month</code>, and <code>uf_source</code> columns</li>
<li>Reuses shared DBC infrastructure (<code>.dbc2dbf()</code>, <code>.read_dbc()</code>, <code>.datasus_download()</code>)</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="healthbr-050">healthbR 0.5.0<a class="anchor" aria-label="anchor" href="#healthbr-050"></a></h2>
<div class="section level3">
<h3 id="new-modules-0-5-0">New modules<a class="anchor" aria-label="anchor" href="#new-modules-0-5-0"></a></h3>
<ul><li>
<strong>SIH (Sistema de Informacoes Hospitalares)</strong>: Added module for accessing hospital admission microdata from DATASUS FTP as .dbc files (2008-2024).
<ul><li>
<code><a href="../reference/sih_years.html">sih_years()</a></code>, <code><a href="../reference/sih_info.html">sih_info()</a></code> for module metadata</li>
<li>
<code><a href="../reference/sih_variables.html">sih_variables()</a></code>, <code><a href="../reference/sih_dictionary.html">sih_dictionary()</a></code> for variable exploration</li>
<li>
<code><a href="../reference/sih_data.html">sih_data()</a></code> for downloading hospital admission microdata per state (UF)</li>
<li>
<code><a href="../reference/sih_cache_status.html">sih_cache_status()</a></code>, <code><a href="../reference/sih_clear_cache.html">sih_clear_cache()</a></code> for cache management</li>
<li>
<strong>Monthly data</strong>: SIH data is organized per month (one .dbc file per UF per month). Use <code>month</code> parameter to select specific months.</li>
<li>Principal diagnosis filtering by CID-10 code (<code>diagnosis</code> parameter)</li>
<li>Output includes <code>year</code>, <code>month</code>, and <code>uf_source</code> columns</li>
<li>Reuses shared DBC infrastructure (<code>.dbc2dbf()</code>, <code>.read_dbc()</code>, <code>.datasus_download()</code>)</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="healthbr-040">healthbR 0.4.0<a class="anchor" aria-label="anchor" href="#healthbr-040"></a></h2>
<div class="section level3">
<h3 id="new-modules-0-4-0">New modules<a class="anchor" aria-label="anchor" href="#new-modules-0-4-0"></a></h3>
<ul><li>
<strong>SINASC (Sistema de Informacoes sobre Nascidos Vivos)</strong>: Added module for accessing live birth microdata from DATASUS FTP as .dbc files (1996-2024).
<ul><li>
<code><a href="../reference/sinasc_years.html">sinasc_years()</a></code>, <code><a href="../reference/sinasc_info.html">sinasc_info()</a></code> for module metadata</li>
<li>
<code><a href="../reference/sinasc_variables.html">sinasc_variables()</a></code>, <code><a href="../reference/sinasc_dictionary.html">sinasc_dictionary()</a></code> for variable exploration</li>
<li>
<code><a href="../reference/sinasc_data.html">sinasc_data()</a></code> for downloading live birth microdata per state (UF)</li>
<li>
<code><a href="../reference/sinasc_cache_status.html">sinasc_cache_status()</a></code>, <code><a href="../reference/sinasc_clear_cache.html">sinasc_clear_cache()</a></code> for cache management</li>
<li>Congenital anomaly filtering by CID-10 code (<code>anomaly</code> parameter)</li>
<li>Reuses shared DBC infrastructure (<code>.dbc2dbf()</code>, <code>.read_dbc()</code>, <code>.datasus_download()</code>)</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="healthbr-030">healthbR 0.3.0<a class="anchor" aria-label="anchor" href="#healthbr-030"></a></h2>
<div class="section level3">
<h3 id="new-modules-0-3-0">New modules<a class="anchor" aria-label="anchor" href="#new-modules-0-3-0"></a></h3>
<ul><li>
<strong>SIM (Sistema de Informacoes sobre Mortalidade)</strong>: Added module for accessing mortality microdata from DATASUS FTP as .dbc files (CID-10, 1996-2024).
<ul><li>
<code><a href="../reference/sim_years.html">sim_years()</a></code>, <code><a href="../reference/sim_info.html">sim_info()</a></code> for module metadata</li>
<li>
<code><a href="../reference/sim_variables.html">sim_variables()</a></code>, <code><a href="../reference/sim_dictionary.html">sim_dictionary()</a></code> for variable exploration</li>
<li>
<code><a href="../reference/sim_data.html">sim_data()</a></code> for downloading mortality microdata per state (UF)</li>
<li>
<code><a href="../reference/sim_cache_status.html">sim_cache_status()</a></code>, <code><a href="../reference/sim_clear_cache.html">sim_clear_cache()</a></code> for cache management</li>
<li>Automatic age decoding from the IDADE variable (<code>decode_age = TRUE</code>)</li>
<li>Cause-of-death filtering by CID-10 code (<code>cause</code> parameter)</li>
<li>Efficient per-state downloads (e.g., ~1 MB for Acre vs ~150 MB for all)</li>
<li>Parquet caching when <code>arrow</code> is installed, .rds fallback otherwise</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="new-infrastructure-0-3-0">New infrastructure<a class="anchor" aria-label="anchor" href="#new-infrastructure-0-3-0"></a></h3>
<ul><li>
<strong>DBC decompression</strong>: Added shared C infrastructure for reading DATASUS .dbc files (PKWare DCL compressed DBF). This enables future modules for SIH, SINASC, CNES, SIA, and SINAN.
<ul><li>Vendored <code>blast.c</code>/<code>blast.h</code> from Mark Adler (zlib license)</li>
<li>
<code>dbc2dbf.c</code> written from scratch (MIT license)</li>
<li>Internal functions: <code>.dbc2dbf()</code>, <code>.read_dbc()</code>, <code>.datasus_download()</code>
</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="dependencies-0-3-0">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies-0-3-0"></a></h3>
<ul><li>Added <code>foreign</code> to Imports (for reading .dbf files after decompression).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="healthbr-020">healthbR 0.2.0<a class="anchor" aria-label="anchor" href="#healthbr-020"></a></h2>
<div class="section level3">
<h3 id="new-modules-0-2-0">New modules<a class="anchor" aria-label="anchor" href="#new-modules-0-2-0"></a></h3>
<ul><li>
<p><strong>Censo Demografico</strong>: Added module for accessing population denominators from the IBGE SIDRA API, covering Census years 1970-2022 and intercensitary estimates 2001-2021.</p>
<ul><li>
<code><a href="../reference/censo_years.html">censo_years()</a></code>, <code><a href="../reference/censo_info.html">censo_info()</a></code> for Census metadata</li>
<li>
<code><a href="../reference/censo_populacao.html">censo_populacao()</a></code> for population by sex, age, race, urban/rural</li>
<li>
<code><a href="../reference/censo_estimativa.html">censo_estimativa()</a></code> for intercensitary population estimates</li>
<li>
<code><a href="../reference/censo_sidra_tables.html">censo_sidra_tables()</a></code>, <code><a href="../reference/censo_sidra_search.html">censo_sidra_search()</a></code> for table discovery</li>
<li>
<code><a href="../reference/censo_sidra_data.html">censo_sidra_data()</a></code> for querying any Census SIDRA table</li>
<li>Shared SIDRA utilities extracted to <code>utils-sidra.R</code> (used by PNS and Census)</li>
<li>Added vignette: “Population Denominators from the Census with healthbR”</li>
</ul></li>
<li>
<p><strong>POF (Pesquisa de Orçamentos Familiares)</strong>: Added complete module for accessing POF microdata from IBGE FTP, covering editions 2002-2003, 2008-2009, and 2017-2018.</p>
<ul><li>
<code><a href="../reference/pof_years.html">pof_years()</a></code>, <code><a href="../reference/pof_info.html">pof_info()</a></code>, <code><a href="../reference/pof_registers.html">pof_registers()</a></code> for survey metadata</li>
<li>
<code><a href="../reference/pof_dictionary.html">pof_dictionary()</a></code>, <code><a href="../reference/pof_variables.html">pof_variables()</a></code> for variable exploration</li>
<li>
<code><a href="../reference/pof_data.html">pof_data()</a></code> for downloading and importing microdata</li>
<li>
<code><a href="../reference/pof_cache_status.html">pof_cache_status()</a></code>, <code><a href="../reference/pof_clear_cache.html">pof_clear_cache()</a></code> for cache management</li>
<li>Survey design support via <code>as_survey = TRUE</code> (requires <code>srvyr</code>)</li>
<li>Health-focused data: food security (EBIA), food consumption, anthropometry, and health expenses</li>
<li>Parquet caching when <code>arrow</code> is installed</li>
<li>Added vignette: “Analyzing Health Data from POF with healthbR”</li>
</ul></li>
<li><p><strong>PNADC (PNAD Contínua)</strong>: Added module for health-related supplementary modules from PNAD Contínua (deficiência, habitação, moradores, APS).</p></li>
<li><p><strong>PNS (Pesquisa Nacional de Saúde)</strong>: Added module for PNS microdata and SIDRA tabulated data access (2013, 2019).</p></li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-0-2-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-2-0"></a></h3>
<ul><li><p>Complete refactoring of VIGITEL functions due to Ministry of Health website restructuring. Data is now distributed as a single consolidated file containing all years (2006-2024) instead of separate files per year.</p></li>
<li>
<p><code><a href="../reference/vigitel_data.html">vigitel_data()</a></code> API changed:</p>
<ul><li>New <code>format</code> parameter to choose between Stata (.dta) and CSV formats</li>
<li>
<code>year</code> parameter now defaults to NULL (returns all years)</li>
<li>Removed <code>lazy</code> and <code>parallel</code> parameters (replaced by automatic parquet caching)</li>
<li>Removed <code>force_download</code> parameter (replaced by <code>force</code>)</li>
</ul></li>
<li><p>Removed <code>vigitel_download()</code> and <code>vigitel_convert_to_parquet()</code> functions. These are no longer needed as data processing is handled automatically.</p></li>
<li><p><code><a href="../reference/vigitel_variables.html">vigitel_variables()</a></code> no longer requires a <code>year</code> parameter. Returns the full data dictionary.</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-2-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-2-0"></a></h3>
<ul><li><p>Added 2022 and 2024 data (newly available from Ministry of Health). Available years now span 2006-2024 (19 years).</p></li>
<li><p><code><a href="../reference/vigitel_data.html">vigitel_data()</a></code> now supports downloading data in Stata (.dta) or CSV format via the <code>format</code> parameter. Stata format is recommended as it preserves variable labels.</p></li>
<li><p>Automatic partitioned parquet caching: when the <code>arrow</code> package is installed, data is automatically cached in partitioned parquet format. This enables efficient reading of specific years without loading the entire dataset.</p></li>
<li><p>Performance improvement: reading a single year from cache is now extremely fast as only that year’s partition is loaded.</p></li>
<li><p>Added <code>haven</code> and <code>readr</code> to Imports for reading Stata and CSV files.</p></li>
<li><p>Added <code>survey</code> to Suggests for complex survey analysis support.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-2-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-2-0"></a></h3>
<ul><li>Fixed CRAN check issues related to <code>arrow</code> dependency and cache files.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="healthbr-011">healthbR 0.1.1<a class="anchor" aria-label="anchor" href="#healthbr-011"></a></h2><p class="text-muted">CRAN release: 2026-02-04</p>
<div class="section level3">
<h3 id="changes-0-1-1">Changes<a class="anchor" aria-label="anchor" href="#changes-0-1-1"></a></h3>
<ul><li><p>Moved <code>arrow</code> package from <code>Imports</code> to <code>Suggests</code> for better cross-platform compatibility. The package now checks for <code>arrow</code> availability and provides informative error messages with installation instructions when needed.</p></li>
<li><p>Added <code>cache_dir</code> parameter to all data fetching functions (<code><a href="../reference/vigitel_data.html">vigitel_data()</a></code>, <code>vigitel_download()</code>, <code><a href="../reference/vigitel_variables.html">vigitel_variables()</a></code>, <code><a href="../reference/vigitel_dictionary.html">vigitel_dictionary()</a></code>, <code><a href="../reference/vigitel_cache_status.html">vigitel_cache_status()</a></code>, <code><a href="../reference/vigitel_clear_cache.html">vigitel_clear_cache()</a></code>). This allows using <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code> for temporary storage that doesn’t persist after the R session.</p></li>
<li><p>Updated examples to use <code>cache_dir = tempdir()</code> to avoid leaving files on the system during CRAN checks.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="healthbr-010">healthbR 0.1.0<a class="anchor" aria-label="anchor" href="#healthbr-010"></a></h2><p class="text-muted">CRAN release: 2026-02-03</p>
<div class="section level3">
<h3 id="healthbr-0-1-0">healthbR 0.0.0.9000<a class="anchor" aria-label="anchor" href="#healthbr-0-1-0"></a></h3>
<div class="section level4">
<h4 id="new-features-0-1-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-1-0"></a></h4>
<ul><li>
<code><a href="../reference/vigitel_years.html">vigitel_years()</a></code> - list available VIGITEL survey years</li>
<li>
<code><a href="../reference/vigitel_variables.html">vigitel_variables()</a></code> - list variables available in a specific year</li>
<li>
<code><a href="../reference/vigitel_dictionary.html">vigitel_dictionary()</a></code> - get the data dictionary with variable descriptions</li>
<li>
<code><a href="../reference/vigitel_data.html">vigitel_data()</a></code> - download and load VIGITEL data with multiple options:
<ul><li>Support for single or multiple years</li>
<li>Automatic caching to avoid repeated downloads</li>
<li>Parquet conversion for faster subsequent loads</li>
<li>Parallel downloads with <code>furrr</code>
</li>
<li>Lazy evaluation with Arrow for memory-efficient processing</li>
</ul></li>
<li>
<code>vigitel_convert_to_parquet()</code> - convert cached Excel files to Parquet format</li>
</ul></div>
<div class="section level4">
<h4 id="performance-0-1-0">Performance<a class="anchor" aria-label="anchor" href="#performance-0-1-0"></a></h4>
<ul><li>Parquet format support for 10-20x faster data loading</li>
<li>Parallel download support via <code>furrr</code> package</li>
<li>Lazy evaluation via Arrow for processing large datasets without loading into RAM</li>
</ul></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sidney Bissoli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

