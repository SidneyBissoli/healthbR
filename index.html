<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Access Brazilian Public Health Data • healthbR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Access Brazilian Public Health Data">
<meta name="description" content="Provides easy access to Brazilian public health data from multiple sources including VIGITEL (Surveillance of Risk Factors for Chronic Diseases by Telephone Survey), PNS (National Health Survey), PNAD Continua (Continuous National Household Sample Survey), POF (Household Budget Survey with food security and consumption data), Censo Demografico (population denominators via SIDRA API), SIM (Mortality Information System), SINASC (Live Birth Information System), SIH (Hospital Information System), SIA (Outpatient Information System), and other health information systems. Data is downloaded from the Brazilian Ministry of Health and IBGE repositories. Data is returned in tidy format following tidyverse conventions.">
<meta property="og:description" content="Provides easy access to Brazilian public health data from multiple sources including VIGITEL (Surveillance of Risk Factors for Chronic Diseases by Telephone Survey), PNS (National Health Survey), PNAD Continua (Continuous National Household Sample Survey), POF (Household Budget Survey with food security and consumption data), Censo Demografico (population denominators via SIDRA API), SIM (Mortality Information System), SINASC (Live Birth Information System), SIH (Hospital Information System), SIA (Outpatient Information System), and other health information systems. Data is downloaded from the Brazilian Ministry of Health and IBGE repositories. Data is returned in tidy format following tidyverse conventions.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">healthbR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/healthbR.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/censo-denominadores.html">Population Denominators from the Census with healthbR</a></li>
    <li><a class="dropdown-item" href="articles/datasus-modules.html">DATASUS Modules: SIM, SINASC, SIH, and SIA</a></li>
    <li><a class="dropdown-item" href="articles/pof-health-data.html">Analyzing Health Data from POF with healthbR</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SidneyBissoli/healthbR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="healthbr-">healthbR <img src="reference/figures/logo.png" align="right" height="139" alt=""><a class="anchor" aria-label="anchor" href="#healthbr-"></a>
</h1></div>
<!-- badges: start -->

<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>healthbR provides easy access to Brazilian public health survey data directly from R. The package downloads, caches, and processes data from official sources, returning clean, analysis-ready tibbles following tidyverse conventions.</p>
<p>Currently supported data sources:</p>
<ul>
<li>
<strong>VIGITEL</strong> - Surveillance of Risk Factors for Chronic Diseases by Telephone Survey - Years 2006-2024</li>
<li>
<strong>PNS</strong> - National Health Survey (microdata + SIDRA API) - Years 2013, 2019</li>
<li>
<strong>PNAD Continua</strong> - Continuous National Household Sample Survey - Years 2012-2024</li>
<li>
<strong>POF</strong> - Household Budget Survey (food security, consumption, anthropometry) - Years 2002-2018</li>
<li>
<strong>Censo Demografico</strong> - Population denominators via SIDRA API - Census 1970-2022, estimates 2001-2021</li>
</ul>
<p>Planned for future releases:</p>
<ul>
<li>SIM (Mortality Information System)</li>
<li>SINASC (Live Birth Information System)</li>
<li>SIH (Hospital Information System)</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of healthbR from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"SidneyBissoli/healthbR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="section level3">
<h3 id="check-available-years">Check available years<a class="anchor" aria-label="anchor" href="#check-available-years"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SidneyBissoli/healthbR" class="external-link">healthbR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># list available VIGITEL survey years</span></span>
<span><span class="fu"><a href="reference/vigitel_years.html">vigitel_years</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020</span></span>
<span><span class="co">#&gt; [16] 2021 2022 2023 2024</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="download-and-load-data">Download and load data<a class="anchor" aria-label="anchor" href="#download-and-load-data"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load data for a single year</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/vigitel_data.html">vigitel_data</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2024</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># load data for multiple years</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/vigitel_data.html">vigitel_data</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2020</span><span class="op">:</span><span class="fl">2024</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># load all available years</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/vigitel_data.html">vigitel_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># choose data format (default is Stata .dta which preserves labels)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/vigitel_data.html">vigitel_data</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2024</span>, format <span class="op">=</span> <span class="st">"dta"</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/vigitel_data.html">vigitel_data</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2024</span>, format <span class="op">=</span> <span class="st">"csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># select specific variables</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/vigitel_data.html">vigitel_data</a></span><span class="op">(</span></span>
<span>  year <span class="op">=</span> <span class="fl">2024</span>,</span>
<span>  vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cidade"</span>, <span class="st">"sexo"</span>, <span class="st">"idade"</span>, <span class="st">"pesorake"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="explore-variables">Explore variables<a class="anchor" aria-label="anchor" href="#explore-variables"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># get the data dictionary with variable descriptions</span></span>
<span><span class="va">dict</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/vigitel_dictionary.html">vigitel_dictionary</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># list variables (same as dictionary)</span></span>
<span><span class="va">vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/vigitel_variables.html">vigitel_variables</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># view the dictionary structure</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dict</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="survey-analysis-with-srvyr">Survey analysis with srvyr<a class="anchor" aria-label="anchor" href="#survey-analysis-with-srvyr"></a>
</h3>
<p>VIGITEL uses complex survey sampling. Use the <code>pesorake</code> weight variable for proper inference:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://gdfe.co/srvyr/" class="external-link">srvyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create survey design</span></span>
<span><span class="va">vigitel_svy</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="http://gdfe.co/srvyr/reference/as_survey_design.html" class="external-link">as_survey_design</a></span><span class="op">(</span>weights <span class="op">=</span> <span class="va">pesorake</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># calculate weighted prevalence</span></span>
<span><span class="va">vigitel_svy</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">cidade</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>    prevalence <span class="op">=</span> <span class="fu"><a href="http://gdfe.co/srvyr/reference/survey_mean.html" class="external-link">survey_mean</a></span><span class="op">(</span><span class="va">diab</span> <span class="op">==</span> <span class="fl">1</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    n <span class="op">=</span> <span class="fu"><a href="http://gdfe.co/srvyr/reference/unweighted.html" class="external-link">unweighted</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="performance-optimization">Performance optimization<a class="anchor" aria-label="anchor" href="#performance-optimization"></a>
</h2>
<p>healthbR automatically optimizes data loading using partitioned parquet caching when the <code>arrow</code> package is installed.</p>
<div class="section level3">
<h3 id="automatic-parquet-caching-recommended">Automatic parquet caching (recommended)<a class="anchor" aria-label="anchor" href="#automatic-parquet-caching-recommended"></a>
</h3>
<p>Install the <code>arrow</code> package for significantly faster subsequent reads:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install arrow for better performance</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"arrow"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># first load downloads and creates partitioned cache</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/vigitel_data.html">vigitel_data</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2024</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># subsequent loads are extremely fast (reads only requested year)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/vigitel_data.html">vigitel_data</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2024</span><span class="op">)</span>  <span class="co"># instant!</span></span></code></pre></div>
<p>When <code>arrow</code> is installed: - Data is automatically cached in partitioned parquet format - Reading a single year loads only that year’s partition (~25MB instead of ~500MB) - Multiple years are combined efficiently</p>
</div>
<div class="section level3">
<h3 id="cache-management">Cache management<a class="anchor" aria-label="anchor" href="#cache-management"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># check cache status</span></span>
<span><span class="fu"><a href="reference/vigitel_cache_status.html">vigitel_cache_status</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># clear cache (all files)</span></span>
<span><span class="fu"><a href="reference/vigitel_clear_cache.html">vigitel_clear_cache</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># clear only source files, keep parquet cache</span></span>
<span><span class="fu"><a href="reference/vigitel_clear_cache.html">vigitel_clear_cache</a></span><span class="op">(</span>keep_parquet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="data-sources">Data sources<a class="anchor" aria-label="anchor" href="#data-sources"></a>
</h2>
<p>All data is downloaded from official Brazilian Ministry of Health repositories:</p>
<ul>
<li>VIGITEL: <a href="https://svs.aids.gov.br/daent/cgdnt/vigitel/" class="external-link uri">https://svs.aids.gov.br/daent/cgdnt/vigitel/</a>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>If you use healthbR in your research, please cite it:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"healthbR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>Contributions are welcome! Please open an issue to discuss proposed changes or submit a pull request.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the healthbR project is released with a <a href="https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>MIT © Sidney da Silva Pereira Bissoli</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=healthbR" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/SidneyBissoli/healthbR/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/SidneyBissoli/healthbR/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing healthbR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Sidney Bissoli <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0009-0001-0442-3700" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://CRAN.R-project.org/package=healthbR" class="external-link"><img src="https://www.r-pkg.org/badges/version/healthbR" alt="CRAN status"></a></li>
<li><a href="https://github.com/SidneyBissoli/healthbR/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/SidneyBissoli/healthbR/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/SidneyBissoli/healthbR" class="external-link"><img src="https://codecov.io/gh/SidneyBissoli/healthbR/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sidney Bissoli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
